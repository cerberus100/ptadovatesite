version: 1
backend:
  phases:
    build:
      commands:
        - echo "No backend build required for static site"
frontend:
  phases:
    preBuild:
      commands:
        - echo "Starting Helping Hands Patient Advocates build process"
        - npm install
        - echo "Dependencies installed successfully"
    build:
      commands:
        - echo "Building production-ready static site assets"
        - npm run build-css
        - echo "SCSS compiled to CSS successfully"
        - echo "Setting production environment variables"
        - echo "Static site build complete - production ready"
    postBuild:
      commands:
        - echo "Running post-build optimization tasks"
        - echo "Production deployment ready"
  artifacts:
    baseDirectory: /
    files:
      - '**/*'
      - '!node_modules/**/*'
      - '!assets/scss/**/*'
      - '!build/**/*'
      - '!wp-content/**/*'
      - '!theme/**/*'
      - '!forms/**/*'
      - '!*.md'
      - '!package*.json'
      - '!.env*'
      - '!.git/**/*'
      - '!.gitignore'
  cache:
    paths:
      - node_modules/**/*
  env:
    variables:
      NODE_ENV: production
      PRODUCTION_BUILD: "true" 